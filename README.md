<h1 name="content" align="center"><a href=""><img src="https://github.com/user-attachments/assets/e080adec-6af7-4bd2-b232-d43cb37024ac" width="20" height="20"/></a> MSSQL</h1>

<p align="center">
  <a href="#-lab1"><img alt="lab1" src="https://img.shields.io/badge/Lab1-blue"></a> 
  <a href="#-lab2"><img alt="lab2" src="https://img.shields.io/badge/Lab2-red"></a>
  <a href="#-lab3"><img alt="lab3" src="https://img.shields.io/badge/Lab3-green"></a>
  <a href="#-lab4"><img alt="lab4" src="https://img.shields.io/badge/Lab4-yellow"></a>
  <a href="#-lab5"><img alt="lab5" src="https://img.shields.io/badge/Lab5-gray"></a>
  <a href="#-lab6"><img alt="lab6" src="https://img.shields.io/badge/Lab6-orange"></a> 
  <a href="#-lab7"><img alt="lab7" src="https://img.shields.io/badge/Lab7-brown"></a>
  <a href="#-lab8"><img alt="lab8" src="https://img.shields.io/badge/Lab8-purple"></a>
  <a href="#-lab9"><img alt="lab9" src="https://img.shields.io/badge/Lab9-violet"></a> 
</p>


[Назад](#content)

<h3 align="center">
  <a href="#client"></a>
 Вариант 16. Ломбард.
Описание Предметной области 

Список клиентов: ФИО, паспорт, адрес.
Товары: вид товара, список материалов, вес каждого материала в данном товаре, процент износа товара, сумма оценки.
Договор залога товара: дата, сумма на руки клиенту, срок выкупа, комиссионные, сведения о выкупе.

Реализовать:
- Отслеживание просроченных договоров с переводом  товаров в продажу;
- Статистика: вывод суммарной стоимости заключенных договоров, списки принятых товаров по датам и видам, список товаров, выставленных на продажу, подсчет выручки ломбарда от комиссионных за заданый период
- Поиск клиентов-должников, постоянных клиентов

</h3>

# <img src="https://github.com/user-attachments/assets/e080adec-6af7-4bd2-b232-d43cb37024ac" width="20" height="20"/> Lab1

<h3 align="center">
  <a href="#client"></a>
  1.1 Разработать ER-модель данной предметной области: выделить сущности, их атрибуты, связи между сущностями. 
Для каждой сущности указать ее имя, атрибут (или набор атрибутов), являющийся первичным ключом, список остальных атрибутов.
Для каждого атрибута указать его тип, ограничения, может ли он быть пустым, является ли он первичным ключом.
Для каждой связи между сущностями указать: 
- тип связи (1:1, 1:M, M:N)
- обязательность

ER-модель д.б. представлена в виде ER-диаграммы (картинка)

По имеющейся ER-модели создать реляционную модель данных и отобразить ее в виде списка сущностей с их атрибутами и типами атрибутов,  для атрибутов указать, явл. ли он первичным или внешним ключом 

</h3>
<h3>
  Er-диаграмма.
</h3>
<img src="https://github.com/nik1kit/BD_labs/blob/main/charts/photo_2025-09-13_16-34-56.jpg" width="3000" height="3000"/>

<h3>
  Реляционная модель.
</h3>
<img src="https://github.com/nik1kit/BD_labs/blob/main/charts/photo_2025-09-14_17-35-18.jpg" width="3000" height="3000"/>
[Назад](#content) 

# <img src="https://github.com/user-attachments/assets/e080adec-6af7-4bd2-b232-d43cb37024ac" width="20" height="20"/> Lab2

<h3>
  Задание:
  В соответствии с реляционной моделью данных, разработанной в Лаб.№1, создать реляционную БД на учебном сервере БД :
- создать таблицы, определить первичные ключи и иные ограничения
- определить связи между таблицами
- создать диаграмму
- заполнить все таблицы адекватной информацией (не меньше 10 записей в таблицах, наличие примеров для связей типа 1:M )

</h3>

[Посмотреть SQL-код создания таблицы](https://github.com/nik1kit/BD_labs/blob/main/SQL_code/Create_tables_lab1.sql)

<h3>
  Диаграмма таблицы:
  
  <img src="https://github.com/nik1kit/BD_labs/blob/main/charts/tables/diagr_table.png" width="3000" height="3000"/>
  
</h3>
  
<h3>
  Таблицы
</h3>
<h4>
  Клиент:
  <img src="https://github.com/nik1kit/BD_labs/blob/main/charts/tables/%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82.png" width="3000" height="3000"/>
</h4>
<h4>
  Контракт:
  <img src="https://github.com/nik1kit/BD_labs/blob/main/charts/tables/%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%B0%D0%BA%D1%82.png" width="3000" height="3000"/>
</h4>
<h4>
  Продукт:
  <img src="https://github.com/nik1kit/BD_labs/blob/main/charts/tables/%D0%BF%D1%80%D0%BE%D0%B4%D1%83%D0%BA%D1%82.png" width="3000" height="3000"/>
</h4>
<h4>
  Материалы:
  <img src="https://github.com/nik1kit/BD_labs/blob/main/charts/tables/%D0%BC%D0%B0%D1%82%D0%B5%D1%80%D0%B8%D0%B0%D0%BB%D1%8B.png" width="3000" height="3000"/>
</h4>
<h4>
  Продукт-материал:
  <img src="https://github.com/nik1kit/BD_labs/blob/main/charts/tables/%D0%BF%D1%80%D0%BE%D0%B4%D1%83%D0%BA%D1%82-%D0%BC%D0%B0%D1%82%D0%B5%D1%80%D0%B8%D0%B0%D0%BB.png" width="3000" height="3000"/>
</h4>
<h4>
  Вид продукта:
  <img src="https://github.com/nik1kit/BD_labs/blob/main/charts/tables/%D1%82%D0%B8%D0%BF_%D0%BF%D1%80%D0%BE%D0%B4%D1%83%D0%BA%D1%82%D0%B0.png" width="3000" height="3000"/>
</h4>
<h4>
  Продажа:
  <img src="https://github.com/nik1kit/BD_labs/blob/main/charts/tables/%D0%BF%D1%80%D0%BE%D0%B4%D0%B0%D0%B6%D0%B0.png" width="3000" height="3000"/>
</h4>
<h4>
  Менеджер:
  <img src="https://github.com/nik1kit/BD_labs/blob/main/charts/tables/%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80.png" width="3000" height="3000"/>
</h4>

# <img src="https://github.com/user-attachments/assets/e080adec-6af7-4bd2-b232-d43cb37024ac" width="20" height="20"/> Lab3


  [Реализация](https://github.com/nik1kit/BD_labs/blob/main/%D0%9B%D0%B0%D0%B1_3.docx)

<h3>  
  Лабораторная №3
Часть 1
Цель: изучить конструкции языка SQL для манипулирования данными в СУБД  MSSQL.
Задания и краткое описание работы:
1. Выборка из одной таблицы.
1.1 Выбрать из произвольной таблицы данные и отсортировать их по двум  произвольным имеющимся в таблице признакам (разные направления сортировки).
1.2 Выбрать из произвольной таблицы те записи, которые удовлетворяют
условию отбора (where). Привести 2-3 запроса.
1.3 Привести примеры 2-3 запросов с использованием агрегатных функций
(count, max, sum и др.) с группировкой и без группировки. 
1.4  Привести примеры подведения подытога с использованием GROUP BY [ALL] [ CUBE | ROLLUP](2-3 запроса). В ROLLUP и CUBE использовать не менее 2-х столбцов.
1.5 Выбрать из таблиц информацию об объектах, в названиях которых нет заданной последовательности букв (LIKE).

2. Выборка из нескольких таблиц.
2.1 Вывести информацию подчиненной (дочерней) таблицы, заменяя коды
(значения внешних ключей) соответствующими символьными значениями из
родительских таблиц. Привести 2-3 запроса с использованием классического
подхода соединения таблиц (where).
2.2. Реализовать запросы пункта 2.1 через внутреннее соединение inner join. 
2.3. Левое внешнее соединение left join. Привести 2-3 запроса.
2.4. Правое внешнее соединение right join. Привести 2-3 запроса 
2.5. Привести примеры 2-3 запросов с использованием агрегатных функций
и группировки.
2.6. Привести примеры 2-3 запросов с использованием группировки и условия отбора групп (Having).
2.7. Привести примеры 3-4 вложенных (соотнесенных, c использованием IN, EXISTS) запросов.
3. Представления
3.1  На основе любых запросов из п. 2 создать два представления (VIEW).
3.2  Привести примеры использования общетабличных выражений (СТЕ) (2-3 запроса)
4. Функции ранжирования
4.1 Привести примеры 3-4 запросов с использованием ROW_NUMBER, RANK, DENSE_RANK (c  PARTITION BY и без)
5. Объдинение, пересечение, разность
5.1 Привести примеры 3-4 запросов с использованием UNION / UNION ALL, EXCEPT, INTERSECT. Данные  в одном из запросов отсортируйте по произвольному признаку.
6. Использование CASE, PIVOT и UNPIVOT.
6.1 Привести примеры получения сводных (итоговых) таблиц с использованием CASE
6.2 Привести примеры получения сводных (итоговых) таблиц с использованием PIVOT и UNPIVOT.

Обязательными к выполнению являются запросы, приведенные ниже (смотри свой вариант).
Отчет  по лабораторной работе предоставляется в виде  документа (Фамилия_Группа.docx). 
В этом  документе по каждому заданию необходимо представить: условие запроса, текст SQL-запроса, скрин-копию результата выполнения запроса.
Часть 2
Составить следующие запросы:
a)  Выдать список товаров, выставленных на продажу
b)  Выдать список товаров, принятых в залог (дата, вид товара, количество)
c)  Найти выручку ломбарда от комиссионных с начала текущего года для каждого вила товара
d)  Найти клиентов, которые не выкупили свой товар в срок
e)  Найти клиентов, пользовавшихся услугами ломбарда 2 и более раз и всегда выкупавших все свои товары


</h3>

